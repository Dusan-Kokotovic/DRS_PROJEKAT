{% extends 'base.html' %}

{% block title %}
Transaction history
{% endblock %}


{% block content %}
{% if current_user.is_authenticated %}
    <div class="row center-block">
        <div class="col-6">
         <h3 class="text-center"> Transaction history </h3>
            <br>

     <div style="margin-bottom:5px; margin-left:30px" class="card text-center bg-light">
               <div class="card-body">
                  <h5 class="card-title">Filters</h5>
                  <br>

                      <form method="post">
                              {{ filter_form.hidden_tag() }}

                               {{ filter_form.name.label() }}
                           {{ filter_form.name(placeholder="Receiver") }}

                            {{filter_form.amount_from.label() }}
                         {{ filter_form.amount_from(placeholder="From") }}

                             {{ filter_form.amount_to.label() }}
                        {{ filter_form.amount_to(placeholder="To") }}
                            <br>
                    <br>
                        {{ filter_form.datetime_from.label() }}
                        {{ filter_form.datetime_from(placeholder="From") }}

                        {{ filter_form.datetime_to.label() }}
                        {{ filter_form.datetime_to(placeholder="To") }}

                     <br>
                    <br>
                         {{ filter_form.submit(class="btn btn-lg btn-secondary") }}
                     </form>
                  <p class="card-text">

                 </p>
               </div>
            </div>


        </div>

    <div class="row" style="margin-top:20px; margin-left:20px; margin-right:20px">
        <div class="col-6">

            <div class="dropdown" >
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
                     Sort by
                    </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">

                <li><a class="dropdown-item">Receiver A-Z</a></li>
                 <li><a class="dropdown-item">Receiver Z-A</a></li>
                <li><a class="dropdown-item">Amount growing</a></li>
                <li><a class="dropdown-item">Amount descending</a></li>
                <li><a class="dropdown-item">Time growing</a></li>
                <li><a class="dropdown-item">Time descending</a></li>
             </ul>
            </div>
            <br>
            <table class="table table-hover table-bordered">
                <thead>
                    <tr>
                        <th scope="col">Receiver</th>
                        <th scope="col">Sender</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Time</th>
                    </tr>
                </thead>
                <tbody>

                    {% for transaction in transactions %}
                    <tr>
                        <td>{{ transaction.sender.name }}</td>
                        <td>{{ transaction.receiver.name }}</td>
                        <td>{{ transaction.amount }}</td>
                        <td>{{ transaction.datetime }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>


{% endif %}

{% endblock %}
    </div>